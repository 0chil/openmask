{"remainingRequest":"C:\\Users\\Park\\Desktop\\vuejs\\mask-finder\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\Park\\Desktop\\vuejs\\mask-finder\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Park\\Desktop\\vuejs\\mask-finder\\node_modules\\vuetify\\lib\\components\\VCalendar\\modes\\stack.js","dependencies":[{"path":"C:\\Users\\Park\\Desktop\\vuejs\\mask-finder\\node_modules\\vuetify\\lib\\components\\VCalendar\\modes\\stack.js","mtime":499162500000},{"path":"C:\\Users\\Park\\Desktop\\vuejs\\mask-finder\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Park\\Desktop\\vuejs\\mask-finder\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Park\\Desktop\\vuejs\\mask-finder\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucmVkdWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IiOwppbXBvcnQgX3NsaWNlZFRvQXJyYXkgZnJvbSAiQzpcXFVzZXJzXFxQYXJrXFxEZXNrdG9wXFx2dWVqc1xcbWFzay1maW5kZXJcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL3NsaWNlZFRvQXJyYXkiOwppbXBvcnQgeyBnZXRPdmVybGFwR3JvdXBIYW5kbGVyLCBnZXRWaXN1YWxzLCBoYXNPdmVybGFwLCBnZXROb3JtYWxpemVkUmFuZ2UgfSBmcm9tICcuL2NvbW1vbic7CmltcG9ydCB7IGdldFRpbWVzdGFtcElkZW50aWZpZXIgfSBmcm9tICcuLi91dGlsL3RpbWVzdGFtcCc7CnZhciBGVUxMX1dJRFRIID0gMTAwOwp2YXIgREVGQVVMVF9PRkZTRVQgPSA1Owp2YXIgV0lEVEhfTVVMVElQTElFUiA9IDEuNzsKLyoqCiAqIFZhcmlhdGlvbiBvZiBjb2x1bW4gbW9kZSB3aGVyZSBldmVudHMgY2FuIGJlIHN0YWNrZWQuIFRoZSBwcmlvcml0eSBvZiB0aGlzCiAqIG1vZGUgaXMgdG8gc3RhY2sgZXZlbnRzIHRvZ2V0aGVyIHRha2luZyB1cCB0aGUgbGVhc3QgYW1vdW50IG9mIHNwYWNlIHdoaWxlCiAqIHRyeWluZyB0byBlbnN1cmUgdGhlIGNvbnRlbnQgb2YgdGhlIGV2ZW50IGlzIGFsd2F5cyB2aXNpYmxlIGFzIHdlbGwgYXMgaXRzCiAqIHN0YXJ0IGFuZCBlbmQuIEEgc2libGluZyBjb2x1bW4gaGFzIGludGVyc2VjdGluZyBldmVudCBjb250ZW50IGFuZCBtdXN0IGJlCiAqIHBsYWNlZCBiZXNpZGUgZWFjaCBvdGhlci4gTm9uLXNpYmxpbmcgY29sdW1ucyBhcmUgb2Zmc2V0IGJ5IDUlIGZyb20gdGhlCiAqIHByZXZpb3VzIGNvbHVtbi4gVGhlIHdpZHRoIGlzIHNjYWxlZCBieSAxLjcgc28gdGhlIGV2ZW50cyBvdmVybGFwIGFuZAogKiB3aGl0ZXNwYWNlIGlzIHJlZHVjZWQuIElmIHRoZXJlIGlzIGEgaG9sZSBpbiBjb2x1bW5zIHRoZSBldmVudCB3aWR0aCBpcwogKiBzY2FsZWQgdXAgc28gaXQgaW50ZXJzZWN0cyB3aXRoIHRoZSBuZXh0IGNvbHVtbi4gVGhlIGNvbHVtbnMgaGF2ZSBlcXVhbAogKiB3aWR0aCBpbiB0aGUgc3BhY2UgdGhleSBhcmUgZ2l2ZW4uIElmIHRoZSBldmVudCBkb2Vzbid0IGhhdmUgYW55IHRvIHRoZQogKiByaWdodCBvZiBpdCB0aGF0IGludGVyc2VjdCB3aXRoIGl0J3MgY29udGVudCBpdCdzIHJpZ2h0IHNpZGUgaXMgZXh0ZW5kZWQKICogdG8gdGhlIHJpZ2h0IHNpZGUuCiAqLwoKZXhwb3J0IHZhciBzdGFjayA9IGZ1bmN0aW9uIHN0YWNrKGV2ZW50cywgZmlyc3RXZWVrZGF5LCBvdmVybGFwVGhyZXNob2xkKSB7CiAgdmFyIGhhbmRsZXIgPSBnZXRPdmVybGFwR3JvdXBIYW5kbGVyKGZpcnN0V2Vla2RheSk7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtc3RhdGVtZW50cwoKICByZXR1cm4gZnVuY3Rpb24gKGRheSwgZGF5RXZlbnRzLCB0aW1lZCkgewogICAgaWYgKCF0aW1lZCkgewogICAgICByZXR1cm4gaGFuZGxlci5nZXRWaXN1YWxzKGRheSwgZGF5RXZlbnRzLCB0aW1lZCk7CiAgICB9CgogICAgdmFyIGRheVN0YXJ0ID0gZ2V0VGltZXN0YW1wSWRlbnRpZmllcihkYXkpOwogICAgdmFyIHZpc3VhbHMgPSBnZXRWaXN1YWxzKGRheUV2ZW50cywgZGF5U3RhcnQpOwogICAgdmFyIGdyb3VwcyA9IGdldEdyb3Vwcyh2aXN1YWxzLCBkYXlTdGFydCk7CiAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7CiAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTsKICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDsKCiAgICB0cnkgewogICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSBncm91cHNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7CiAgICAgICAgdmFyIGdyb3VwID0gX3N0ZXAudmFsdWU7CiAgICAgICAgdmFyIG5vZGVzID0gW107CiAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZTsKICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IyID0gZmFsc2U7CiAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yMiA9IHVuZGVmaW5lZDsKCiAgICAgICAgdHJ5IHsKICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvcjIgPSBncm91cC52aXN1YWxzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXAyOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gKF9zdGVwMiA9IF9pdGVyYXRvcjIubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlKSB7CiAgICAgICAgICAgIHZhciB2aXN1YWwgPSBfc3RlcDIudmFsdWU7CiAgICAgICAgICAgIHZhciBjaGlsZCA9IGdldE5vZGUodmlzdWFsLCBkYXlTdGFydCk7CiAgICAgICAgICAgIHZhciBpbmRleCA9IGdldE5leHRJbmRleChjaGlsZCwgbm9kZXMpOwoKICAgICAgICAgICAgaWYgKGluZGV4ID09PSBmYWxzZSkgewogICAgICAgICAgICAgIHZhciBwYXJlbnQgPSBnZXRQYXJlbnQoY2hpbGQsIG5vZGVzKTsKCiAgICAgICAgICAgICAgaWYgKHBhcmVudCkgewogICAgICAgICAgICAgICAgY2hpbGQucGFyZW50ID0gcGFyZW50OwogICAgICAgICAgICAgICAgY2hpbGQuc2libGluZyA9IGhhc092ZXJsYXAoY2hpbGQuc3RhcnQsIGNoaWxkLmVuZCwgcGFyZW50LnN0YXJ0LCBhZGRUaW1lKHBhcmVudC5zdGFydCwgb3ZlcmxhcFRocmVzaG9sZCkpOwogICAgICAgICAgICAgICAgY2hpbGQuaW5kZXggPSBwYXJlbnQuaW5kZXggKyAxOwogICAgICAgICAgICAgICAgcGFyZW50LmNoaWxkcmVuLnB1c2goY2hpbGQpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB2YXIgX2dldE92ZXJsYXBwaW5nUmFuZ2UgPSBnZXRPdmVybGFwcGluZ1JhbmdlKGNoaWxkLCBub2RlcywgaW5kZXggLSAxLCBpbmRleCAtIDEpLAogICAgICAgICAgICAgICAgICBfZ2V0T3ZlcmxhcHBpbmdSYW5nZTIgPSBfc2xpY2VkVG9BcnJheShfZ2V0T3ZlcmxhcHBpbmdSYW5nZSwgMSksCiAgICAgICAgICAgICAgICAgIF9wYXJlbnQgPSBfZ2V0T3ZlcmxhcHBpbmdSYW5nZTJbMF07CgogICAgICAgICAgICAgIHZhciBjaGlsZHJlbiA9IGdldE92ZXJsYXBwaW5nUmFuZ2UoY2hpbGQsIG5vZGVzLCBpbmRleCArIDEsIGluZGV4ICsgbm9kZXMubGVuZ3RoLCB0cnVlKTsKICAgICAgICAgICAgICBjaGlsZC5jaGlsZHJlbiA9IGNoaWxkcmVuOwogICAgICAgICAgICAgIGNoaWxkLmluZGV4ID0gaW5kZXg7CgogICAgICAgICAgICAgIGlmIChfcGFyZW50KSB7CiAgICAgICAgICAgICAgICBjaGlsZC5wYXJlbnQgPSBfcGFyZW50OwogICAgICAgICAgICAgICAgY2hpbGQuc2libGluZyA9IGhhc092ZXJsYXAoY2hpbGQuc3RhcnQsIGNoaWxkLmVuZCwgX3BhcmVudC5zdGFydCwgYWRkVGltZShfcGFyZW50LnN0YXJ0LCBvdmVybGFwVGhyZXNob2xkKSk7CgogICAgICAgICAgICAgICAgX3BhcmVudC5jaGlsZHJlbi5wdXNoKGNoaWxkKTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyA9IHRydWU7CiAgICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yMyA9IGZhbHNlOwogICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvcjMgPSB1bmRlZmluZWQ7CgogICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IzID0gY2hpbGRyZW5bU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDM7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSAoX3N0ZXAzID0gX2l0ZXJhdG9yMy5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyA9IHRydWUpIHsKICAgICAgICAgICAgICAgICAgdmFyIGdyYW5kID0gX3N0ZXAzLnZhbHVlOwoKICAgICAgICAgICAgICAgICAgaWYgKGdyYW5kLnBhcmVudCA9PT0gX3BhcmVudCkgewogICAgICAgICAgICAgICAgICAgIGdyYW5kLnBhcmVudCA9IGNoaWxkOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICB2YXIgZ3JhbmROZXh0ID0gZ3JhbmQuaW5kZXggLSBjaGlsZC5pbmRleCA8PSAxOwoKICAgICAgICAgICAgICAgICAgaWYgKGdyYW5kTmV4dCAmJiBjaGlsZC5zaWJsaW5nICYmIGhhc092ZXJsYXAoY2hpbGQuc3RhcnQsIGFkZFRpbWUoY2hpbGQuc3RhcnQsIG92ZXJsYXBUaHJlc2hvbGQpLCBncmFuZC5zdGFydCwgZ3JhbmQuZW5kKSkgewogICAgICAgICAgICAgICAgICAgIGdyYW5kLnNpYmxpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7CiAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvcjMgPSB0cnVlOwogICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IzID0gZXJyOwogICAgICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zICYmIF9pdGVyYXRvcjMucmV0dXJuICE9IG51bGwpIHsKICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IzLnJldHVybigpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IzKSB7CiAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3IzOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICBub2Rlcy5wdXNoKGNoaWxkKTsKICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yMiA9IHRydWU7CiAgICAgICAgICBfaXRlcmF0b3JFcnJvcjIgPSBlcnI7CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgJiYgX2l0ZXJhdG9yMi5yZXR1cm4gIT0gbnVsbCkgewogICAgICAgICAgICAgIF9pdGVyYXRvcjIucmV0dXJuKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjIpIHsKICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjI7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGNhbGN1bGF0ZUJvdW5kcyhub2Rlcywgb3ZlcmxhcFRocmVzaG9sZCk7CiAgICAgIH0KICAgIH0gY2F0Y2ggKGVycikgewogICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7CiAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyOwogICAgfSBmaW5hbGx5IHsKICAgICAgdHJ5IHsKICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybiAhPSBudWxsKSB7CiAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7CiAgICAgICAgfQogICAgICB9IGZpbmFsbHkgewogICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikgewogICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgdmlzdWFscy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgIHJldHVybiBhLmxlZnQgLSBiLmxlZnQgfHwgYS5ldmVudC5zdGFydFRpbWVzdGFtcElkZW50aWZpZXIgLSBiLmV2ZW50LnN0YXJ0VGltZXN0YW1wSWRlbnRpZmllcjsKICAgIH0pOwogICAgcmV0dXJuIHZpc3VhbHM7CiAgfTsKfTsKCmZ1bmN0aW9uIGNhbGN1bGF0ZUJvdW5kcyhub2Rlcywgb3ZlcmxhcFRocmVzaG9sZCkgewogIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNCA9IHRydWU7CiAgdmFyIF9kaWRJdGVyYXRvckVycm9yNCA9IGZhbHNlOwogIHZhciBfaXRlcmF0b3JFcnJvcjQgPSB1bmRlZmluZWQ7CgogIHRyeSB7CiAgICBmb3IgKHZhciBfaXRlcmF0b3I0ID0gbm9kZXNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDQ7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjQgPSAoX3N0ZXA0ID0gX2l0ZXJhdG9yNC5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNCA9IHRydWUpIHsKICAgICAgdmFyIG5vZGUgPSBfc3RlcDQudmFsdWU7CiAgICAgIHZhciB2aXN1YWwgPSBub2RlLnZpc3VhbCwKICAgICAgICAgIHBhcmVudCA9IG5vZGUucGFyZW50OwogICAgICB2YXIgY29sdW1ucyA9IGdldE1heENoaWxkSW5kZXgobm9kZSkgKyAxOwogICAgICB2YXIgc3BhY2VMZWZ0ID0gcGFyZW50ID8gcGFyZW50LnZpc3VhbC5sZWZ0IDogMDsKICAgICAgdmFyIHNwYWNlV2lkdGggPSBGVUxMX1dJRFRIIC0gc3BhY2VMZWZ0OwogICAgICB2YXIgb2Zmc2V0ID0gTWF0aC5taW4oREVGQVVMVF9PRkZTRVQsIEZVTExfV0lEVEggLyBjb2x1bW5zKTsKICAgICAgdmFyIGNvbHVtbldpZHRoTXVsdGlwbGllciA9IGdldENvbHVtbldpZHRoTXVsdGlwbGllcihub2RlLCBub2Rlcyk7CiAgICAgIHZhciBjb2x1bW5PZmZzZXQgPSBzcGFjZVdpZHRoIC8gKGNvbHVtbnMgLSBub2RlLmluZGV4ICsgMSk7CiAgICAgIHZhciBjb2x1bW5XaWR0aCA9IHNwYWNlV2lkdGggLyAoY29sdW1ucyAtIG5vZGUuaW5kZXggKyAobm9kZS5zaWJsaW5nID8gMSA6IDApKSAqIGNvbHVtbldpZHRoTXVsdGlwbGllcjsKCiAgICAgIGlmIChwYXJlbnQpIHsKICAgICAgICB2aXN1YWwubGVmdCA9IG5vZGUuc2libGluZyA/IHNwYWNlTGVmdCArIGNvbHVtbk9mZnNldCA6IHNwYWNlTGVmdCArIG9mZnNldDsKICAgICAgfQoKICAgICAgdmlzdWFsLndpZHRoID0gaGFzRnVsbFdpZHRoKG5vZGUsIG5vZGVzLCBvdmVybGFwVGhyZXNob2xkKSA/IEZVTExfV0lEVEggLSB2aXN1YWwubGVmdCA6IE1hdGgubWluKEZVTExfV0lEVEggLSB2aXN1YWwubGVmdCwgY29sdW1uV2lkdGggKiBXSURUSF9NVUxUSVBMSUVSKTsKICAgIH0KICB9IGNhdGNoIChlcnIpIHsKICAgIF9kaWRJdGVyYXRvckVycm9yNCA9IHRydWU7CiAgICBfaXRlcmF0b3JFcnJvcjQgPSBlcnI7CiAgfSBmaW5hbGx5IHsKICAgIHRyeSB7CiAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjQgJiYgX2l0ZXJhdG9yNC5yZXR1cm4gIT0gbnVsbCkgewogICAgICAgIF9pdGVyYXRvcjQucmV0dXJuKCk7CiAgICAgIH0KICAgIH0gZmluYWxseSB7CiAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjQpIHsKICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjQ7CiAgICAgIH0KICAgIH0KICB9Cn0KCmZ1bmN0aW9uIGdldENvbHVtbldpZHRoTXVsdGlwbGllcihub2RlLCBub2RlcykgewogIGlmICghbm9kZS5jaGlsZHJlbi5sZW5ndGgpIHsKICAgIHJldHVybiAxOwogIH0KCiAgdmFyIG1heENvbHVtbiA9IG5vZGUuaW5kZXggKyBub2Rlcy5sZW5ndGg7CiAgdmFyIG1pbkNvbHVtbiA9IG5vZGUuY2hpbGRyZW4ucmVkdWNlKGZ1bmN0aW9uIChtaW4sIGMpIHsKICAgIHJldHVybiBNYXRoLm1pbihtaW4sIGMuaW5kZXgpOwogIH0sIG1heENvbHVtbik7CiAgcmV0dXJuIG1pbkNvbHVtbiAtIG5vZGUuaW5kZXg7Cn0KCmZ1bmN0aW9uIGdldE92ZXJsYXBwaW5nSW5kaWNlcyhub2RlLCBub2RlcykgewogIHZhciBpbmRpY2VzID0gW107CiAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb241ID0gdHJ1ZTsKICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3I1ID0gZmFsc2U7CiAgdmFyIF9pdGVyYXRvckVycm9yNSA9IHVuZGVmaW5lZDsKCiAgdHJ5IHsKICAgIGZvciAodmFyIF9pdGVyYXRvcjUgPSBub2Rlc1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwNTsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNSA9IChfc3RlcDUgPSBfaXRlcmF0b3I1Lm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb241ID0gdHJ1ZSkgewogICAgICB2YXIgb3RoZXIgPSBfc3RlcDUudmFsdWU7CgogICAgICBpZiAoaGFzT3ZlcmxhcChub2RlLnN0YXJ0LCBub2RlLmVuZCwgb3RoZXIuc3RhcnQsIG90aGVyLmVuZCkpIHsKICAgICAgICBpbmRpY2VzLnB1c2gob3RoZXIuaW5kZXgpOwogICAgICB9CiAgICB9CiAgfSBjYXRjaCAoZXJyKSB7CiAgICBfZGlkSXRlcmF0b3JFcnJvcjUgPSB0cnVlOwogICAgX2l0ZXJhdG9yRXJyb3I1ID0gZXJyOwogIH0gZmluYWxseSB7CiAgICB0cnkgewogICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb241ICYmIF9pdGVyYXRvcjUucmV0dXJuICE9IG51bGwpIHsKICAgICAgICBfaXRlcmF0b3I1LnJldHVybigpOwogICAgICB9CiAgICB9IGZpbmFsbHkgewogICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3I1KSB7CiAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I1OwogICAgICB9CiAgICB9CiAgfQoKICByZXR1cm4gaW5kaWNlczsKfQoKZnVuY3Rpb24gZ2V0TmV4dEluZGV4KG5vZGUsIG5vZGVzKSB7CiAgdmFyIGluZGljZXMgPSBnZXRPdmVybGFwcGluZ0luZGljZXMobm9kZSwgbm9kZXMpOwogIGluZGljZXMuc29ydCgpOwoKICBmb3IgKHZhciBpID0gMDsgaSA8IGluZGljZXMubGVuZ3RoOyBpKyspIHsKICAgIGlmIChpIDwgaW5kaWNlc1tpXSkgewogICAgICByZXR1cm4gaTsKICAgIH0KICB9CgogIHJldHVybiBmYWxzZTsKfQoKZnVuY3Rpb24gZ2V0T3ZlcmxhcHBpbmdSYW5nZShub2RlLCBub2RlcywgaW5kZXhNaW4sIGluZGV4TWF4KSB7CiAgdmFyIHJldHVybkZpcnN0Q29sdW1uID0gYXJndW1lbnRzLmxlbmd0aCA+IDQgJiYgYXJndW1lbnRzWzRdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbNF0gOiBmYWxzZTsKICB2YXIgb3ZlcmxhcHBpbmcgPSBbXTsKICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjYgPSB0cnVlOwogIHZhciBfZGlkSXRlcmF0b3JFcnJvcjYgPSBmYWxzZTsKICB2YXIgX2l0ZXJhdG9yRXJyb3I2ID0gdW5kZWZpbmVkOwoKICB0cnkgewogICAgZm9yICh2YXIgX2l0ZXJhdG9yNiA9IG5vZGVzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA2OyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb242ID0gKF9zdGVwNiA9IF9pdGVyYXRvcjYubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjYgPSB0cnVlKSB7CiAgICAgIHZhciBvdGhlciA9IF9zdGVwNi52YWx1ZTsKCiAgICAgIGlmIChvdGhlci5pbmRleCA+PSBpbmRleE1pbiAmJiBvdGhlci5pbmRleCA8PSBpbmRleE1heCAmJiBoYXNPdmVybGFwKG5vZGUuc3RhcnQsIG5vZGUuZW5kLCBvdGhlci5zdGFydCwgb3RoZXIuZW5kKSkgewogICAgICAgIG92ZXJsYXBwaW5nLnB1c2gob3RoZXIpOwogICAgICB9CiAgICB9CiAgfSBjYXRjaCAoZXJyKSB7CiAgICBfZGlkSXRlcmF0b3JFcnJvcjYgPSB0cnVlOwogICAgX2l0ZXJhdG9yRXJyb3I2ID0gZXJyOwogIH0gZmluYWxseSB7CiAgICB0cnkgewogICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb242ICYmIF9pdGVyYXRvcjYucmV0dXJuICE9IG51bGwpIHsKICAgICAgICBfaXRlcmF0b3I2LnJldHVybigpOwogICAgICB9CiAgICB9IGZpbmFsbHkgewogICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3I2KSB7CiAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I2OwogICAgICB9CiAgICB9CiAgfQoKICBpZiAocmV0dXJuRmlyc3RDb2x1bW4gJiYgb3ZlcmxhcHBpbmcubGVuZ3RoID4gMCkgewogICAgdmFyIGZpcnN0ID0gb3ZlcmxhcHBpbmcucmVkdWNlKGZ1bmN0aW9uIChtaW4sIG4pIHsKICAgICAgcmV0dXJuIE1hdGgubWluKG1pbiwgbi5pbmRleCk7CiAgICB9LCBvdmVybGFwcGluZ1swXS5pbmRleCk7CiAgICByZXR1cm4gb3ZlcmxhcHBpbmcuZmlsdGVyKGZ1bmN0aW9uIChuKSB7CiAgICAgIHJldHVybiBuLmluZGV4ID09PSBmaXJzdDsKICAgIH0pOwogIH0KCiAgcmV0dXJuIG92ZXJsYXBwaW5nOwp9CgpmdW5jdGlvbiBnZXRQYXJlbnQobm9kZSwgbm9kZXMpIHsKICB2YXIgcGFyZW50ID0gbnVsbDsKICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjcgPSB0cnVlOwogIHZhciBfZGlkSXRlcmF0b3JFcnJvcjcgPSBmYWxzZTsKICB2YXIgX2l0ZXJhdG9yRXJyb3I3ID0gdW5kZWZpbmVkOwoKICB0cnkgewogICAgZm9yICh2YXIgX2l0ZXJhdG9yNyA9IG5vZGVzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA3OyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb243ID0gKF9zdGVwNyA9IF9pdGVyYXRvcjcubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjcgPSB0cnVlKSB7CiAgICAgIHZhciBvdGhlciA9IF9zdGVwNy52YWx1ZTsKCiAgICAgIGlmIChoYXNPdmVybGFwKG5vZGUuc3RhcnQsIG5vZGUuZW5kLCBvdGhlci5zdGFydCwgb3RoZXIuZW5kKSAmJiAocGFyZW50ID09PSBudWxsIHx8IG90aGVyLmluZGV4ID4gcGFyZW50LmluZGV4KSkgewogICAgICAgIHBhcmVudCA9IG90aGVyOwogICAgICB9CiAgICB9CiAgfSBjYXRjaCAoZXJyKSB7CiAgICBfZGlkSXRlcmF0b3JFcnJvcjcgPSB0cnVlOwogICAgX2l0ZXJhdG9yRXJyb3I3ID0gZXJyOwogIH0gZmluYWxseSB7CiAgICB0cnkgewogICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb243ICYmIF9pdGVyYXRvcjcucmV0dXJuICE9IG51bGwpIHsKICAgICAgICBfaXRlcmF0b3I3LnJldHVybigpOwogICAgICB9CiAgICB9IGZpbmFsbHkgewogICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3I3KSB7CiAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I3OwogICAgICB9CiAgICB9CiAgfQoKICByZXR1cm4gcGFyZW50Owp9CgpmdW5jdGlvbiBoYXNGdWxsV2lkdGgobm9kZSwgbm9kZXMsIG92ZXJsYXBUaHJlc2hvbGQpIHsKICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjggPSB0cnVlOwogIHZhciBfZGlkSXRlcmF0b3JFcnJvcjggPSBmYWxzZTsKICB2YXIgX2l0ZXJhdG9yRXJyb3I4ID0gdW5kZWZpbmVkOwoKICB0cnkgewogICAgZm9yICh2YXIgX2l0ZXJhdG9yOCA9IG5vZGVzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA4OyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb244ID0gKF9zdGVwOCA9IF9pdGVyYXRvcjgubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjggPSB0cnVlKSB7CiAgICAgIHZhciBvdGhlciA9IF9zdGVwOC52YWx1ZTsKCiAgICAgIGlmIChvdGhlciAhPT0gbm9kZSAmJiBvdGhlci5pbmRleCA+IG5vZGUuaW5kZXggJiYgaGFzT3ZlcmxhcChub2RlLnN0YXJ0LCBhZGRUaW1lKG5vZGUuc3RhcnQsIG92ZXJsYXBUaHJlc2hvbGQpLCBvdGhlci5zdGFydCwgb3RoZXIuZW5kKSkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgfQogIH0gY2F0Y2ggKGVycikgewogICAgX2RpZEl0ZXJhdG9yRXJyb3I4ID0gdHJ1ZTsKICAgIF9pdGVyYXRvckVycm9yOCA9IGVycjsKICB9IGZpbmFsbHkgewogICAgdHJ5IHsKICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uOCAmJiBfaXRlcmF0b3I4LnJldHVybiAhPSBudWxsKSB7CiAgICAgICAgX2l0ZXJhdG9yOC5yZXR1cm4oKTsKICAgICAgfQogICAgfSBmaW5hbGx5IHsKICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yOCkgewogICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yODsKICAgICAgfQogICAgfQogIH0KCiAgcmV0dXJuIHRydWU7Cn0KCmZ1bmN0aW9uIGdldEdyb3Vwcyh2aXN1YWxzLCBkYXlTdGFydCkgewogIHZhciBncm91cHMgPSBbXTsKICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjkgPSB0cnVlOwogIHZhciBfZGlkSXRlcmF0b3JFcnJvcjkgPSBmYWxzZTsKICB2YXIgX2l0ZXJhdG9yRXJyb3I5ID0gdW5kZWZpbmVkOwoKICB0cnkgewogICAgZm9yICh2YXIgX2l0ZXJhdG9yOSA9IHZpc3VhbHNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDk7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjkgPSAoX3N0ZXA5ID0gX2l0ZXJhdG9yOS5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uOSA9IHRydWUpIHsKICAgICAgdmFyIHZpc3VhbCA9IF9zdGVwOS52YWx1ZTsKCiAgICAgIHZhciBfZ2V0Tm9ybWFsaXplZFJhbmdlID0gZ2V0Tm9ybWFsaXplZFJhbmdlKHZpc3VhbC5ldmVudCwgZGF5U3RhcnQpLAogICAgICAgICAgX2dldE5vcm1hbGl6ZWRSYW5nZTIgPSBfc2xpY2VkVG9BcnJheShfZ2V0Tm9ybWFsaXplZFJhbmdlLCAyKSwKICAgICAgICAgIHN0YXJ0ID0gX2dldE5vcm1hbGl6ZWRSYW5nZTJbMF0sCiAgICAgICAgICBlbmQgPSBfZ2V0Tm9ybWFsaXplZFJhbmdlMlsxXTsKCiAgICAgIHZhciBhZGRlZCA9IGZhbHNlOwogICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjEwID0gdHJ1ZTsKICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yMTAgPSBmYWxzZTsKICAgICAgdmFyIF9pdGVyYXRvckVycm9yMTAgPSB1bmRlZmluZWQ7CgogICAgICB0cnkgewogICAgICAgIGZvciAodmFyIF9pdGVyYXRvcjEwID0gZ3JvdXBzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXAxMDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMTAgPSAoX3N0ZXAxMCA9IF9pdGVyYXRvcjEwLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24xMCA9IHRydWUpIHsKICAgICAgICAgIHZhciBncm91cCA9IF9zdGVwMTAudmFsdWU7CgogICAgICAgICAgaWYgKGhhc092ZXJsYXAoc3RhcnQsIGVuZCwgZ3JvdXAuc3RhcnQsIGdyb3VwLmVuZCkpIHsKICAgICAgICAgICAgZ3JvdXAudmlzdWFscy5wdXNoKHZpc3VhbCk7CiAgICAgICAgICAgIGdyb3VwLmVuZCA9IE1hdGgubWF4KGdyb3VwLmVuZCwgZW5kKTsKICAgICAgICAgICAgYWRkZWQgPSB0cnVlOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9kaWRJdGVyYXRvckVycm9yMTAgPSB0cnVlOwogICAgICAgIF9pdGVyYXRvckVycm9yMTAgPSBlcnI7CiAgICAgIH0gZmluYWxseSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjEwICYmIF9pdGVyYXRvcjEwLnJldHVybiAhPSBudWxsKSB7CiAgICAgICAgICAgIF9pdGVyYXRvcjEwLnJldHVybigpOwogICAgICAgICAgfQogICAgICAgIH0gZmluYWxseSB7CiAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IxMCkgewogICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjEwOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQoKICAgICAgaWYgKCFhZGRlZCkgewogICAgICAgIGdyb3Vwcy5wdXNoKHsKICAgICAgICAgIHN0YXJ0OiBzdGFydCwKICAgICAgICAgIGVuZDogZW5kLAogICAgICAgICAgdmlzdWFsczogW3Zpc3VhbF0KICAgICAgICB9KTsKICAgICAgfQogICAgfQogIH0gY2F0Y2ggKGVycikgewogICAgX2RpZEl0ZXJhdG9yRXJyb3I5ID0gdHJ1ZTsKICAgIF9pdGVyYXRvckVycm9yOSA9IGVycjsKICB9IGZpbmFsbHkgewogICAgdHJ5IHsKICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uOSAmJiBfaXRlcmF0b3I5LnJldHVybiAhPSBudWxsKSB7CiAgICAgICAgX2l0ZXJhdG9yOS5yZXR1cm4oKTsKICAgICAgfQogICAgfSBmaW5hbGx5IHsKICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yOSkgewogICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yOTsKICAgICAgfQogICAgfQogIH0KCiAgcmV0dXJuIGdyb3VwczsKfQoKZnVuY3Rpb24gZ2V0Tm9kZSh2aXN1YWwsIGRheVN0YXJ0KSB7CiAgdmFyIF9nZXROb3JtYWxpemVkUmFuZ2UzID0gZ2V0Tm9ybWFsaXplZFJhbmdlKHZpc3VhbC5ldmVudCwgZGF5U3RhcnQpLAogICAgICBfZ2V0Tm9ybWFsaXplZFJhbmdlNCA9IF9zbGljZWRUb0FycmF5KF9nZXROb3JtYWxpemVkUmFuZ2UzLCAyKSwKICAgICAgc3RhcnQgPSBfZ2V0Tm9ybWFsaXplZFJhbmdlNFswXSwKICAgICAgZW5kID0gX2dldE5vcm1hbGl6ZWRSYW5nZTRbMV07CgogIHJldHVybiB7CiAgICBwYXJlbnQ6IG51bGwsCiAgICBzaWJsaW5nOiB0cnVlLAogICAgaW5kZXg6IDAsCiAgICB2aXN1YWw6IHZpc3VhbCwKICAgIHN0YXJ0OiBzdGFydCwKICAgIGVuZDogZW5kLAogICAgY2hpbGRyZW46IFtdCiAgfTsKfQoKZnVuY3Rpb24gZ2V0TWF4Q2hpbGRJbmRleChub2RlKSB7CiAgdmFyIG1heCA9IG5vZGUuaW5kZXg7CiAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24xMSA9IHRydWU7CiAgdmFyIF9kaWRJdGVyYXRvckVycm9yMTEgPSBmYWxzZTsKICB2YXIgX2l0ZXJhdG9yRXJyb3IxMSA9IHVuZGVmaW5lZDsKCiAgdHJ5IHsKICAgIGZvciAodmFyIF9pdGVyYXRvcjExID0gbm9kZS5jaGlsZHJlbltTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwMTE7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjExID0gKF9zdGVwMTEgPSBfaXRlcmF0b3IxMS5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMTEgPSB0cnVlKSB7CiAgICAgIHZhciBjaGlsZCA9IF9zdGVwMTEudmFsdWU7CiAgICAgIHZhciBjaGlsZE1heCA9IGdldE1heENoaWxkSW5kZXgoY2hpbGQpOwoKICAgICAgaWYgKGNoaWxkTWF4ID4gbWF4KSB7CiAgICAgICAgbWF4ID0gY2hpbGRNYXg7CiAgICAgIH0KICAgIH0KICB9IGNhdGNoIChlcnIpIHsKICAgIF9kaWRJdGVyYXRvckVycm9yMTEgPSB0cnVlOwogICAgX2l0ZXJhdG9yRXJyb3IxMSA9IGVycjsKICB9IGZpbmFsbHkgewogICAgdHJ5IHsKICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMTEgJiYgX2l0ZXJhdG9yMTEucmV0dXJuICE9IG51bGwpIHsKICAgICAgICBfaXRlcmF0b3IxMS5yZXR1cm4oKTsKICAgICAgfQogICAgfSBmaW5hbGx5IHsKICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yMTEpIHsKICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjExOwogICAgICB9CiAgICB9CiAgfQoKICByZXR1cm4gbWF4Owp9CgpmdW5jdGlvbiBhZGRUaW1lKGlkZW50aWZpZXIsIG1pbnV0ZXMpIHsKICB2YXIgcmVtb3ZlTWludXRlcyA9IGlkZW50aWZpZXIgJSAxMDA7CiAgdmFyIHRvdGFsTWludXRlcyA9IHJlbW92ZU1pbnV0ZXMgKyBtaW51dGVzOwogIHZhciBhZGRIb3VycyA9IE1hdGguZmxvb3IodG90YWxNaW51dGVzIC8gNjApOwogIHZhciBhZGRNaW51dGVzID0gdG90YWxNaW51dGVzICUgNjA7CiAgcmV0dXJuIGlkZW50aWZpZXIgLSByZW1vdmVNaW51dGVzICsgYWRkSG91cnMgKiAxMDAgKyBhZGRNaW51dGVzOwp9"},{"version":3,"sources":["../../../../src/components/VCalendar/modes/stack.ts"],"names":[],"mappings":";;;;;;;;;AACA,SAAA,sBAAA,EAAA,UAAA,EAAA,UAAA,EAAA,kBAAA,QAAA,UAAA;AACA,SAAA,sBAAA,QAAA,mBAAA;AAkBA,IAAM,UAAU,GAAhB,GAAA;AAEA,IAAM,cAAc,GAApB,CAAA;AAEA,IAAM,gBAAgB,GAAtB,GAAA;AAEA;;;;;;;;;;;;;;AAcA,OAAO,IAAM,KAAK,GAA6B,SAAlC,KAAkC,CAAA,MAAA,EAAA,YAAA,EAAA,gBAAA,EAA2C;AACxF,MAAM,OAAO,GAAG,sBAAsB,CADkD,YAClD,CAAtC,CADwF,CAGxF;;AACA,SAAO,UAAA,GAAA,EAAA,SAAA,EAAA,KAAA,EAA0B;AAC/B,QAAI,CAAJ,KAAA,EAAY;AACV,aAAO,OAAO,CAAP,UAAA,CAAA,GAAA,EAAA,SAAA,EAAP,KAAO,CAAP;AACD;;AAED,QAAM,QAAQ,GAAG,sBAAsB,CAAvC,GAAuC,CAAvC;AACA,QAAM,OAAO,GAAG,UAAU,CAAA,SAAA,EAA1B,QAA0B,CAA1B;AACA,QAAM,MAAM,GAAG,SAAS,CAAA,OAAA,EAAxB,QAAwB,CAAxB;AAP+B;AAAA;AAAA;;AAAA;AAS/B,2BAAA,MAAA,8HAA4B;AAAA,YAA5B,KAA4B;AAC1B,YAAM,KAAK,GAAX,EAAA;AAD0B;AAAA;AAAA;;AAAA;AAG1B,gCAAqB,KAAK,CAA1B,OAAA,mIAAoC;AAAA,gBAApC,MAAoC;AAClC,gBAAM,KAAK,GAAG,OAAO,CAAA,MAAA,EAArB,QAAqB,CAArB;AACA,gBAAM,KAAK,GAAG,YAAY,CAAA,KAAA,EAA1B,KAA0B,CAA1B;;AAEA,gBAAI,KAAK,KAAT,KAAA,EAAqB;AACnB,kBAAM,MAAM,GAAG,SAAS,CAAA,KAAA,EAAxB,KAAwB,CAAxB;;AACA,kBAAA,MAAA,EAAY;AACV,gBAAA,KAAK,CAAL,MAAA,GAAA,MAAA;AACA,gBAAA,KAAK,CAAL,OAAA,GAAgB,UAAU,CAAC,KAAK,CAAN,KAAA,EAAc,KAAK,CAAnB,GAAA,EAAyB,MAAM,CAA/B,KAAA,EAAuC,OAAO,CAAC,MAAM,CAAP,KAAA,EAAxE,gBAAwE,CAA9C,CAA1B;AACA,gBAAA,KAAK,CAAL,KAAA,GAAc,MAAM,CAAN,KAAA,GAAd,CAAA;AACA,gBAAA,MAAM,CAAN,QAAA,CAAA,IAAA,CAAA,KAAA;AACD;AAPH,aAAA,MAQO;AAAA,yCACY,mBAAmB,CAAA,KAAA,EAAA,KAAA,EAAe,KAAK,GAApB,CAAA,EAA0B,KAAK,GAAnE,CAAoC,CAD/B;AAAA;AAAA,kBACC,OADD;;AAEL,kBAAM,QAAQ,GAAG,mBAAmB,CAAA,KAAA,EAAA,KAAA,EAAe,KAAK,GAApB,CAAA,EAA0B,KAAK,GAAG,KAAK,CAAvC,MAAA,EAApC,IAAoC,CAApC;AAEA,cAAA,KAAK,CAAL,QAAA,GAAA,QAAA;AACA,cAAA,KAAK,CAAL,KAAA,GAAA,KAAA;;AAEA,kBAAA,OAAA,EAAY;AACV,gBAAA,KAAK,CAAL,MAAA,GAAA,OAAA;AACA,gBAAA,KAAK,CAAL,OAAA,GAAgB,UAAU,CAAC,KAAK,CAAN,KAAA,EAAc,KAAK,CAAnB,GAAA,EAAyB,OAAM,CAA/B,KAAA,EAAuC,OAAO,CAAC,OAAM,CAAP,KAAA,EAAxE,gBAAwE,CAA9C,CAA1B;;AACA,gBAAA,OAAM,CAAN,QAAA,CAAA,IAAA,CAAA,KAAA;AACD;;AAXI;AAAA;AAAA;;AAAA;AAaL,sCAAA,QAAA,mIAA8B;AAAA,sBAA9B,KAA8B;;AAC5B,sBAAI,KAAK,CAAL,MAAA,KAAJ,OAAA,EAA6B;AAC3B,oBAAA,KAAK,CAAL,MAAA,GAAA,KAAA;AACD;;AAED,sBAAM,SAAS,GAAG,KAAK,CAAL,KAAA,GAAc,KAAK,CAAnB,KAAA,IAAlB,CAAA;;AACA,sBAAI,SAAS,IAAI,KAAK,CAAlB,OAAA,IACF,UAAU,CAAC,KAAK,CAAN,KAAA,EAAc,OAAO,CAAC,KAAK,CAAN,KAAA,EAArB,gBAAqB,CAArB,EAAsD,KAAK,CAA3D,KAAA,EAAmE,KAAK,CADpF,GACY,CADZ,EAC2F;AACzF,oBAAA,KAAK,CAAL,OAAA,GAAA,IAAA;AACD;AACF;AAvBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAwBN;;AAED,YAAA,KAAK,CAAL,IAAA,CAAA,KAAA;AACD;AA1CyB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AA4C1B,QAAA,eAAe,CAAA,KAAA,EAAf,gBAAe,CAAf;AACD;AAtD8B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAwD/B,IAAA,OAAO,CAAP,IAAA,CAAa,UAAA,CAAA,EAAA,CAAA;AAAA,aAAW,CAAC,CAAD,IAAA,GAAS,CAAC,CAAX,IAAC,IAAqB,CAAC,CAAD,KAAA,CAAA,wBAAA,GAAmC,CAAC,CAAD,KAAA,CAAhF,wBAAa;AAAA,KAAb;AAEA,WAAA,OAAA;AA1DF,GAAA;AAJK,CAAA;;AAkEP,SAAA,eAAA,CAAA,KAAA,EAAA,gBAAA,EAAiE;AAAA;AAAA;AAAA;;AAAA;AAC/D,0BAAA,KAAA,mIAA0B;AAAA,UAA1B,IAA0B;AAAA,UAClB,MADkB,GACxB,IADwB,CAClB,MADkB;AAAA,UACR,MADQ,GACxB,IADwB,CACR,MADQ;AAExB,UAAM,OAAO,GAAG,gBAAgB,CAAhB,IAAgB,CAAhB,GAAhB,CAAA;AACA,UAAM,SAAS,GAAG,MAAM,GAAG,MAAM,CAAN,MAAA,CAAH,IAAA,GAAxB,CAAA;AACA,UAAM,UAAU,GAAG,UAAU,GAA7B,SAAA;AACA,UAAM,MAAM,GAAG,IAAI,CAAJ,GAAA,CAAA,cAAA,EAAyB,UAAU,GAAlD,OAAe,CAAf;AACA,UAAM,qBAAqB,GAAG,wBAAwB,CAAA,IAAA,EAAtD,KAAsD,CAAtD;AACA,UAAM,YAAY,GAAG,UAAU,IAAI,OAAO,GAAG,IAAI,CAAd,KAAA,GAAnC,CAA+B,CAA/B;AACA,UAAM,WAAW,GAAG,UAAU,IAAI,OAAO,GAAG,IAAI,CAAd,KAAA,IAAwB,IAAI,CAAJ,OAAA,GAAA,CAAA,GAAtC,CAAc,CAAJ,CAAV,GAApB,qBAAA;;AAEA,UAAA,MAAA,EAAY;AACV,QAAA,MAAM,CAAN,IAAA,GAAc,IAAI,CAAJ,OAAA,GACV,SAAS,GADC,YAAA,GAEV,SAAS,GAFb,MAAA;AAGD;;AAED,MAAA,MAAM,CAAN,KAAA,GAAe,YAAY,CAAA,IAAA,EAAA,KAAA,EAAZ,gBAAY,CAAZ,GACX,UAAU,GAAG,MAAM,CADR,IAAA,GAEX,IAAI,CAAJ,GAAA,CAAS,UAAU,GAAG,MAAM,CAA5B,IAAA,EAAmC,WAAW,GAFlD,gBAEI,CAFJ;AAGD;AApB8D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAqBhE;;AAED,SAAA,wBAAA,CAAA,IAAA,EAAA,KAAA,EAA4D;AAC1D,MAAI,CAAC,IAAI,CAAJ,QAAA,CAAL,MAAA,EAA2B;AACzB,WAAA,CAAA;AACD;;AAED,MAAM,SAAS,GAAG,IAAI,CAAJ,KAAA,GAAa,KAAK,CAApC,MAAA;AACA,MAAM,SAAS,GAAG,IAAI,CAAJ,QAAA,CAAA,MAAA,CAAqB,UAAA,GAAA,EAAA,CAAA;AAAA,WAAY,IAAI,CAAJ,GAAA,CAAA,GAAA,EAAc,CAAC,CAAhD,KAAiC,CAAZ;AAAA,GAArB,EAAlB,SAAkB,CAAlB;AAEA,SAAO,SAAS,GAAG,IAAI,CAAvB,KAAA;AACD;;AAED,SAAA,qBAAA,CAAA,IAAA,EAAA,KAAA,EAAyD;AACvD,MAAM,OAAO,GAAb,EAAA;AADuD;AAAA;AAAA;;AAAA;AAEvD,0BAAA,KAAA,mIAA2B;AAAA,UAA3B,KAA2B;;AACzB,UAAI,UAAU,CAAC,IAAI,CAAL,KAAA,EAAa,IAAI,CAAjB,GAAA,EAAuB,KAAK,CAA5B,KAAA,EAAoC,KAAK,CAAvD,GAAc,CAAd,EAA8D;AAC5D,QAAA,OAAO,CAAP,IAAA,CAAa,KAAK,CAAlB,KAAA;AACD;AACF;AANsD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAOvD,SAAA,OAAA;AACD;;AAED,SAAA,YAAA,CAAA,IAAA,EAAA,KAAA,EAAgD;AAC9C,MAAM,OAAO,GAAG,qBAAqB,CAAA,IAAA,EAArC,KAAqC,CAArC;AACA,EAAA,OAAO,CAAP,IAAA;;AAEA,OAAK,IAAI,CAAC,GAAV,CAAA,EAAgB,CAAC,GAAG,OAAO,CAA3B,MAAA,EAAoC,CAApC,EAAA,EAAyC;AACvC,QAAI,CAAC,GAAG,OAAO,CAAf,CAAe,CAAf,EAAoB;AAClB,aAAA,CAAA;AACD;AACF;;AACD,SAAA,KAAA;AACD;;AAED,SAAA,mBAAA,CAAA,IAAA,EAAA,KAAA,EAAA,QAAA,EAAA,QAAA,EAAsH;AAAA,MAAzB,iBAAyB,uEAAtH,KAAsH;AACpH,MAAM,WAAW,GAAjB,EAAA;AADoH;AAAA;AAAA;;AAAA;AAEpH,0BAAA,KAAA,mIAA2B;AAAA,UAA3B,KAA2B;;AACzB,UAAI,KAAK,CAAL,KAAA,IAAA,QAAA,IAA2B,KAAK,CAAL,KAAA,IAA3B,QAAA,IAAsD,UAAU,CAAC,IAAI,CAAL,KAAA,EAAa,IAAI,CAAjB,GAAA,EAAuB,KAAK,CAA5B,KAAA,EAAoC,KAAK,CAA7G,GAAoE,CAApE,EAAoH;AAClH,QAAA,WAAW,CAAX,IAAA,CAAA,KAAA;AACD;AACF;AANmH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAOpH,MAAI,iBAAiB,IAAI,WAAW,CAAX,MAAA,GAAzB,CAAA,EAAiD;AAC/C,QAAM,KAAK,GAAG,WAAW,CAAX,MAAA,CAAmB,UAAA,GAAA,EAAA,CAAA;AAAA,aAAY,IAAI,CAAJ,GAAA,CAAA,GAAA,EAAc,CAAC,CAA9C,KAA+B,CAAZ;AAAA,KAAnB,EAAuD,WAAW,CAAX,CAAW,CAAX,CAArE,KAAc,CAAd;AACA,WAAO,WAAW,CAAX,MAAA,CAAmB,UAAA,CAAC;AAAA,aAAI,CAAC,CAAD,KAAA,KAA/B,KAA2B;AAAA,KAApB,CAAP;AACD;;AACD,SAAA,WAAA;AACD;;AAED,SAAA,SAAA,CAAA,IAAA,EAAA,KAAA,EAA6C;AAC3C,MAAI,MAAM,GAAV,IAAA;AAD2C;AAAA;AAAA;;AAAA;AAE3C,0BAAA,KAAA,mIAA2B;AAAA,UAA3B,KAA2B;;AACzB,UAAI,UAAU,CAAC,IAAI,CAAL,KAAA,EAAa,IAAI,CAAjB,GAAA,EAAuB,KAAK,CAA5B,KAAA,EAAoC,KAAK,CAAnD,GAAU,CAAV,KAA6D,MAAM,KAAN,IAAA,IAAmB,KAAK,CAAL,KAAA,GAAc,MAAM,CAAxG,KAAI,CAAJ,EAAiH;AAC/G,QAAA,MAAM,GAAN,KAAA;AACD;AACF;AAN0C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAO3C,SAAA,MAAA;AACD;;AAED,SAAA,YAAA,CAAA,IAAA,EAAA,KAAA,EAAA,gBAAA,EAA0E;AAAA;AAAA;AAAA;;AAAA;AACxE,0BAAA,KAAA,mIAA2B;AAAA,UAA3B,KAA2B;;AACzB,UAAI,KAAK,KAAL,IAAA,IACF,KAAK,CAAL,KAAA,GAAc,IAAI,CADhB,KAAA,IAEF,UAAU,CAAC,IAAI,CAAL,KAAA,EAAa,OAAO,CAAC,IAAI,CAAL,KAAA,EAApB,gBAAoB,CAApB,EAAoD,KAAK,CAAzD,KAAA,EAAiE,KAAK,CAFlF,GAEY,CAFZ,EAEyF;AACvF,eAAA,KAAA;AACD;AACF;AAPuE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AASxE,SAAA,IAAA;AACD;;AAED,SAAA,SAAA,CAAA,OAAA,EAAA,QAAA,EAAoE;AAClE,MAAM,MAAM,GAAZ,EAAA;AADkE;AAAA;AAAA;;AAAA;AAGlE,0BAAA,OAAA,mIAA8B;AAAA,UAA9B,MAA8B;;AAAA,gCACP,kBAAkB,CAAC,MAAM,CAAP,KAAA,EAAvC,QAAuC,CADX;AAAA;AAAA,UACtB,KADsB;AAAA,UACtB,GADsB;;AAE5B,UAAI,KAAK,GAAT,KAAA;AAF4B;AAAA;AAAA;;AAAA;AAI5B,+BAAA,MAAA,wIAA4B;AAAA,cAA5B,KAA4B;;AAC1B,cAAI,UAAU,CAAA,KAAA,EAAA,GAAA,EAAa,KAAK,CAAlB,KAAA,EAA0B,KAAK,CAA7C,GAAc,CAAd,EAAoD;AAClD,YAAA,KAAK,CAAL,OAAA,CAAA,IAAA,CAAA,MAAA;AACA,YAAA,KAAK,CAAL,GAAA,GAAY,IAAI,CAAJ,GAAA,CAAS,KAAK,CAAd,GAAA,EAAZ,GAAY,CAAZ;AACA,YAAA,KAAK,GAAL,IAAA;AACA;AACD;AACF;AAX2B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAa5B,UAAI,CAAJ,KAAA,EAAY;AACV,QAAA,MAAM,CAAN,IAAA,CAAY;AAAE,UAAA,KAAF,EAAE,KAAF;AAAS,UAAA,GAAT,EAAS,GAAT;AAAc,UAAA,OAAO,EAAE,CAAA,MAAA;AAAvB,SAAZ;AACD;AACF;AAnBiE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAqBlE,SAAA,MAAA;AACD;;AAED,SAAA,OAAA,CAAA,MAAA,EAAA,QAAA,EAA+D;AAAA,6BACxC,kBAAkB,CAAC,MAAM,CAAP,KAAA,EAAvC,QAAuC,CADsB;AAAA;AAAA,MACvD,KADuD;AAAA,MACvD,GADuD;;AAG7D,SAAO;AACL,IAAA,MAAM,EADD,IAAA;AAEL,IAAA,OAAO,EAFF,IAAA;AAGL,IAAA,KAAK,EAHA,CAAA;AAIL,IAAA,MAJK,EAIL,MAJK;AAKL,IAAA,KALK,EAKL,KALK;AAML,IAAA,GANK,EAML,GANK;AAOL,IAAA,QAAQ,EAAE;AAPL,GAAP;AASD;;AAED,SAAA,gBAAA,CAAA,IAAA,EAAqC;AACnC,MAAI,GAAG,GAAG,IAAI,CAAd,KAAA;AADmC;AAAA;AAAA;;AAAA;AAEnC,2BAAoB,IAAI,CAAxB,QAAA,wIAAmC;AAAA,UAAnC,KAAmC;AACjC,UAAM,QAAQ,GAAG,gBAAgB,CAAjC,KAAiC,CAAjC;;AACA,UAAI,QAAQ,GAAZ,GAAA,EAAoB;AAClB,QAAA,GAAG,GAAH,QAAA;AACD;AACF;AAPkC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAQnC,SAAA,GAAA;AACD;;AAED,SAAA,OAAA,CAAA,UAAA,EAAA,OAAA,EAAqD;AACnD,MAAM,aAAa,GAAG,UAAU,GAAhC,GAAA;AACA,MAAM,YAAY,GAAG,aAAa,GAAlC,OAAA;AACA,MAAM,QAAQ,GAAG,IAAI,CAAJ,KAAA,CAAW,YAAY,GAAxC,EAAiB,CAAjB;AACA,MAAM,UAAU,GAAG,YAAY,GAA/B,EAAA;AAEA,SAAO,UAAU,GAAV,aAAA,GAA6B,QAAQ,GAArC,GAAA,GAAP,UAAA;AACD","sourcesContent":["import { CalendarEventOverlapMode, CalendarEventVisual } from 'types'\nimport { getOverlapGroupHandler, getVisuals, hasOverlap, getNormalizedRange } from './common'\nimport { getTimestampIdentifier } from '../util/timestamp'\n\ninterface Group {\n  start: number\n  end: number\n  visuals: CalendarEventVisual[]\n}\n\ninterface Node {\n  parent: Node | null\n  sibling: boolean\n  index: number\n  visual: CalendarEventVisual\n  start: number\n  end: number\n  children: Node[]\n}\n\nconst FULL_WIDTH = 100\n\nconst DEFAULT_OFFSET = 5\n\nconst WIDTH_MULTIPLIER = 1.7\n\n/**\n * Variation of column mode where events can be stacked. The priority of this\n * mode is to stack events together taking up the least amount of space while\n * trying to ensure the content of the event is always visible as well as its\n * start and end. A sibling column has intersecting event content and must be\n * placed beside each other. Non-sibling columns are offset by 5% from the\n * previous column. The width is scaled by 1.7 so the events overlap and\n * whitespace is reduced. If there is a hole in columns the event width is\n * scaled up so it intersects with the next column. The columns have equal\n * width in the space they are given. If the event doesn't have any to the\n * right of it that intersect with it's content it's right side is extended\n * to the right side.\n */\n\nexport const stack: CalendarEventOverlapMode = (events, firstWeekday, overlapThreshold) => {\n  const handler = getOverlapGroupHandler(firstWeekday)\n\n  // eslint-disable-next-line max-statements\n  return (day, dayEvents, timed) => {\n    if (!timed) {\n      return handler.getVisuals(day, dayEvents, timed)\n    }\n\n    const dayStart = getTimestampIdentifier(day)\n    const visuals = getVisuals(dayEvents, dayStart)\n    const groups = getGroups(visuals, dayStart)\n\n    for (const group of groups) {\n      const nodes: Node[] = []\n\n      for (const visual of group.visuals) {\n        const child = getNode(visual, dayStart)\n        const index = getNextIndex(child, nodes)\n\n        if (index === false) {\n          const parent = getParent(child, nodes)\n          if (parent) {\n            child.parent = parent\n            child.sibling = hasOverlap(child.start, child.end, parent.start, addTime(parent.start, overlapThreshold))\n            child.index = parent.index + 1\n            parent.children.push(child)\n          }\n        } else {\n          const [parent] = getOverlappingRange(child, nodes, index - 1, index - 1)\n          const children = getOverlappingRange(child, nodes, index + 1, index + nodes.length, true)\n\n          child.children = children\n          child.index = index\n\n          if (parent) {\n            child.parent = parent\n            child.sibling = hasOverlap(child.start, child.end, parent.start, addTime(parent.start, overlapThreshold))\n            parent.children.push(child)\n          }\n\n          for (const grand of children) {\n            if (grand.parent === parent) {\n              grand.parent = child\n            }\n\n            const grandNext = grand.index - child.index <= 1\n            if (grandNext && child.sibling &&\n              hasOverlap(child.start, addTime(child.start, overlapThreshold), grand.start, grand.end)) {\n              grand.sibling = true\n            }\n          }\n        }\n\n        nodes.push(child)\n      }\n\n      calculateBounds(nodes, overlapThreshold)\n    }\n\n    visuals.sort((a, b) => (a.left - b.left) || (a.event.startTimestampIdentifier - b.event.startTimestampIdentifier))\n\n    return visuals\n  }\n}\n\nfunction calculateBounds (nodes: Node[], overlapThreshold: number) {\n  for (const node of nodes) {\n    const { visual, parent } = node\n    const columns = getMaxChildIndex(node) + 1\n    const spaceLeft = parent ? parent.visual.left : 0\n    const spaceWidth = FULL_WIDTH - spaceLeft\n    const offset = Math.min(DEFAULT_OFFSET, FULL_WIDTH / columns)\n    const columnWidthMultiplier = getColumnWidthMultiplier(node, nodes)\n    const columnOffset = spaceWidth / (columns - node.index + 1)\n    const columnWidth = spaceWidth / (columns - node.index + (node.sibling ? 1 : 0)) * columnWidthMultiplier\n\n    if (parent) {\n      visual.left = node.sibling\n        ? spaceLeft + columnOffset\n        : spaceLeft + offset\n    }\n\n    visual.width = hasFullWidth(node, nodes, overlapThreshold)\n      ? FULL_WIDTH - visual.left\n      : Math.min(FULL_WIDTH - visual.left, columnWidth * WIDTH_MULTIPLIER)\n  }\n}\n\nfunction getColumnWidthMultiplier (node: Node, nodes: Node[]): number {\n  if (!node.children.length) {\n    return 1\n  }\n\n  const maxColumn = node.index + nodes.length\n  const minColumn = node.children.reduce((min, c) => Math.min(min, c.index), maxColumn)\n\n  return minColumn - node.index\n}\n\nfunction getOverlappingIndices (node: Node, nodes: Node[]): number[] {\n  const indices: number[] = []\n  for (const other of nodes) {\n    if (hasOverlap(node.start, node.end, other.start, other.end)) {\n      indices.push(other.index)\n    }\n  }\n  return indices\n}\n\nfunction getNextIndex (node: Node, nodes: Node[]): number | false {\n  const indices = getOverlappingIndices(node, nodes)\n  indices.sort()\n\n  for (let i = 0; i < indices.length; i++) {\n    if (i < indices[i]) {\n      return i\n    }\n  }\n  return false\n}\n\nfunction getOverlappingRange (node: Node, nodes: Node[], indexMin: number, indexMax: number, returnFirstColumn = false): Node[] {\n  const overlapping: Node[] = []\n  for (const other of nodes) {\n    if (other.index >= indexMin && other.index <= indexMax && hasOverlap(node.start, node.end, other.start, other.end)) {\n      overlapping.push(other)\n    }\n  }\n  if (returnFirstColumn && overlapping.length > 0) {\n    const first = overlapping.reduce((min, n) => Math.min(min, n.index), overlapping[0].index)\n    return overlapping.filter(n => n.index === first)\n  }\n  return overlapping\n}\n\nfunction getParent (node: Node, nodes: Node[]): Node | null {\n  let parent: Node | null = null\n  for (const other of nodes) {\n    if (hasOverlap(node.start, node.end, other.start, other.end) && (parent === null || other.index > parent.index)) {\n      parent = other\n    }\n  }\n  return parent\n}\n\nfunction hasFullWidth (node: Node, nodes: Node[], overlapThreshold: number): boolean {\n  for (const other of nodes) {\n    if (other !== node &&\n      other.index > node.index &&\n      hasOverlap(node.start, addTime(node.start, overlapThreshold), other.start, other.end)) {\n      return false\n    }\n  }\n\n  return true\n}\n\nfunction getGroups (visuals: CalendarEventVisual[], dayStart: number): Group[] {\n  const groups: Group[] = []\n\n  for (const visual of visuals) {\n    const [start, end] = getNormalizedRange(visual.event, dayStart)\n    let added = false\n\n    for (const group of groups) {\n      if (hasOverlap(start, end, group.start, group.end)) {\n        group.visuals.push(visual)\n        group.end = Math.max(group.end, end)\n        added = true\n        break\n      }\n    }\n\n    if (!added) {\n      groups.push({ start, end, visuals: [visual] })\n    }\n  }\n\n  return groups\n}\n\nfunction getNode (visual: CalendarEventVisual, dayStart: number): Node {\n  const [start, end] = getNormalizedRange(visual.event, dayStart)\n\n  return {\n    parent: null,\n    sibling: true,\n    index: 0,\n    visual,\n    start,\n    end,\n    children: [],\n  }\n}\n\nfunction getMaxChildIndex (node: Node): number {\n  let max = node.index\n  for (const child of node.children) {\n    const childMax = getMaxChildIndex(child)\n    if (childMax > max) {\n      max = childMax\n    }\n  }\n  return max\n}\n\nfunction addTime (identifier: number, minutes: number): number {\n  const removeMinutes = identifier % 100\n  const totalMinutes = removeMinutes + minutes\n  const addHours = Math.floor(totalMinutes / 60)\n  const addMinutes = totalMinutes % 60\n\n  return identifier - removeMinutes + addHours * 100 + addMinutes\n}\n"],"sourceRoot":""}]}