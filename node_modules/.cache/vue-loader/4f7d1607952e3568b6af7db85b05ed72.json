{"remainingRequest":"C:\\Users\\Park\\Desktop\\vuejs\\mask-finder\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Park\\Desktop\\vuejs\\mask-finder\\src\\components\\Map.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Park\\Desktop\\vuejs\\mask-finder\\src\\components\\Map.vue","mtime":1584031162773},{"path":"C:\\Users\\Park\\Desktop\\vuejs\\mask-finder\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Park\\Desktop\\vuejs\\mask-finder\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Park\\Desktop\\vuejs\\mask-finder\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1574476662000},{"path":"C:\\Users\\Park\\Desktop\\vuejs\\mask-finder\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Park\\Desktop\\vuejs\\mask-finder\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBWdWVEYXVtTWFwIGZyb20gJ3Z1ZS1kYXVtLW1hcCc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnTWFwJywKCiAgY29tcG9uZW50czp7CiAgICBWdWVEYXVtTWFwLAogIH0sCiAgCiAgcHJvcHM6IHsKICAgIGdldFN0b3Jlc0J5R2VvUGFyZW50OiB7dHlwZTogRnVuY3Rpb259LAogICAgbG9jYXRpb246e30sCiAgfSwKCiAgZGF0YTogKCkgPT4gKHsKICAgIGFwcEtleTogJzZmNDI4NTQ3ZjhmZjI2NDAyZDJlZGU4ZGFhOGIyNDBjJywKICAgIGNlbnRlcjoge2xhdDozMy40NTA3MDEsIGxuZzoxMjYuNTcwNjY3fSwKICAgIGxldmVsOiA0LCAKICAgIG1hcFR5cGVJZDogVnVlRGF1bU1hcC5NYXBUeXBlSWQuTk9STUFMLCAKICAgIGxpYnJhcmllczogW10sCiAgICBtYXA6IG51bGwsCiAgICBjZW50ZXJNYXJrZXI6bnVsbCwKICAgIGNlbnRlckNpcmNsZTpudWxsLAogICAgbWFya2VyQXJyYXk6W10sCgogIH0pLAoKICBtZXRob2RzOiB7CiAgICBnZXRTdG9yZXNCeUdlbyhhLGIpewogICAgICB0aGlzLmdldFN0b3Jlc0J5R2VvUGFyZW50KGEsYik7CiAgICB9LAogICAgLy8g7KeA64+E6rCAIOuhnOuTnCDsmYTro4zrkJjrqbQgbG9hZCDsnbTrsqTtirgg67Cc7IOdCiAgICBvbkxvYWQgKG1hcCkgewogICAgICB0aGlzLm1hcCA9IG1hcDsKICAgICAgaWYodGhpcy5sb2NhdGlvbil7CiAgICAgICAgdGhpcy5zZXRDZW50ZXIoKTsKICAgICAgfQogICAgICB2YXIgcmVmPXRoaXM7CiAgICAgIHZhciBzdGFydExhdCxzdGFydExuZyxzdGFydExldmVsOwogICAgICBrYWthby5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKG1hcCwgJ2RyYWdlbmQnLCBmdW5jdGlvbigpIHsKICAgICAgICByZWYuZ2V0U3RvcmVzQnlHZW8obWFwLmdldENlbnRlcigpLmdldExhdCgpLG1hcC5nZXRDZW50ZXIoKS5nZXRMbmcoKSk7CiAgICAgIH0pOwogICAgICBrYWthby5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKG1hcCwgJ3pvb21fc3RhcnQnLCBmdW5jdGlvbigpIHsKICAgICAgICBzdGFydExhdD1tYXAuZ2V0Q2VudGVyKCkuZ2V0TGF0KCk7CiAgICAgICAgc3RhcnRMbmc9bWFwLmdldENlbnRlcigpLmdldExuZygpOwogICAgICAgIHN0YXJ0TGV2ZWw9bWFwLmdldExldmVsKCk7CiAgICAgIH0pOwogICAgICBrYWthby5tYXBzLmV2ZW50LmFkZExpc3RlbmVyKG1hcCwgJ3pvb21fY2hhbmdlZCcsIGZ1bmN0aW9uKCkgewogICAgICAgIGlmKG1hcC5nZXRMZXZlbCgpPnN0YXJ0TGV2ZWwpCiAgICAgICAgICBtYXAuc2V0Q2VudGVyKG5ldyBrYWthby5tYXBzLkxhdExuZyhzdGFydExhdCxzdGFydExuZykpOwogICAgICAgIGVsc2UKICAgICAgICAgIHJlZi5nZXRTdG9yZXNCeUdlbyhtYXAuZ2V0Q2VudGVyKCkuZ2V0TGF0KCksbWFwLmdldENlbnRlcigpLmdldExuZygpKTsKICAgICAgfSk7CiAgICB9LAoKICAgIHNldENlbnRlcjogZnVuY3Rpb24oKXsKICAgICAgaWYoIXRoaXMubG9jYXRpb24pIHtyZXR1cm47fQogICAgICBpZih0aGlzLmNlbnRlck1hcmtlcikgdGhpcy5jZW50ZXJNYXJrZXIuc2V0TWFwKG51bGwpOwogICAgICB0aGlzLm1hcC5zZXRMZXZlbCg0KTsKICAgICAgdGhpcy5tYXAuc2V0Q2VudGVyKG5ldyBrYWthby5tYXBzLkxhdExuZyh0aGlzLmxvY2F0aW9uLmNvb3Jkcy5sYXRpdHVkZSx0aGlzLmxvY2F0aW9uLmNvb3Jkcy5sb25naXR1ZGUpKTsKICAgICAgdmFyIGltYWdlU3JjID0gcmVxdWlyZSgnQC9hc3NldHMvcGVyc29uX3Bpbl8yNHB4X3JlZC5zdmcnKSwgIAogICAgICAgICAgaW1hZ2VTaXplID0gbmV3IGtha2FvLm1hcHMuU2l6ZSgzNiwgMzYpOwogICAgICB2YXIgbWFya2VySW1hZ2UgPSBuZXcga2FrYW8ubWFwcy5NYXJrZXJJbWFnZShpbWFnZVNyYyxpbWFnZVNpemUse30pOwogICAgICB0aGlzLmNlbnRlck1hcmtlciA9IG5ldyBrYWthby5tYXBzLk1hcmtlcih7IAogICAgICAgIHBvc2l0aW9uOiB0aGlzLm1hcC5nZXRDZW50ZXIoKSwKICAgICAgICBpbWFnZTogbWFya2VySW1hZ2UKICAgICAgfSk7CiAgICAgIHRoaXMuY2VudGVyTWFya2VyLnNldE1hcCh0aGlzLm1hcCk7CiAgICAgIHRoaXMuZ2V0U3RvcmVzQnlHZW8odGhpcy5tYXAuZ2V0Q2VudGVyKCkuZ2V0TGF0KCksdGhpcy5tYXAuZ2V0Q2VudGVyKCkuZ2V0TG5nKCkpOwogICAgfSwKCiAgICBMZXZlbDJSYW5nZTogZnVuY3Rpb24obGV2ZWwpewogICAgICAgIGlmKGxldmVsPDUpCiAgICAgICAgICByZXR1cm4gMTUwMDsKICAgICAgICBlbHNlIGlmKGxldmVsPDgpCiAgICAgICAgICByZXR1cm4gMjUwMDsKICAgICAgICBlbHNlIGlmKGxldmVsPDEwKQogICAgICAgICAgcmV0dXJuIDM1MDA7CiAgICAgICAgZWxzZSByZXR1cm4gNTAwMDsKICAgIH0sCgogICAgCiAgfSwKCiAgCgp9Cg=="},{"version":3,"sources":["Map.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAiBA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;;;AAIA","file":"Map.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <vue-daum-map\n    :appKey=\"appKey\"\n    :center.sync=\"center\"\n    :level.sync=\"level\"\n    :mapTypeId=\"mapTypeId\"\n    :libraries=\"libraries\"\n    @load=\"onLoad\"\n    style=\"width:100%;height:100%\"/>\n    <!-- <v-btn @click=\"getStoresByGeo_Center\" elevation=\"10\" style=\"position:absolute;top:0;z-index:999;\">aa</v-btn> -->\n  </div>\n</template>\n\n<script type=\"text/javascript\" src=\"//dapi.kakao.com/v2/maps/sdk.js?appkey=6f428547f8ff26402d2ede8daa8b240c\"></script>\n\n<script>\n  import VueDaumMap from 'vue-daum-map';\n  export default {\n    name: 'Map',\n\n    components:{\n      VueDaumMap,\n    },\n    \n    props: {\n      getStoresByGeoParent: {type: Function},\n      location:{},\n    },\n\n    data: () => ({\n      appKey: '6f428547f8ff26402d2ede8daa8b240c',\n      center: {lat:33.450701, lng:126.570667},\n      level: 4, \n      mapTypeId: VueDaumMap.MapTypeId.NORMAL, \n      libraries: [],\n      map: null,\n      centerMarker:null,\n      centerCircle:null,\n      markerArray:[],\n\n    }),\n\n    methods: {\n      getStoresByGeo(a,b){\n        this.getStoresByGeoParent(a,b);\n      },\n      // 지도가 로드 완료되면 load 이벤트 발생\n      onLoad (map) {\n        this.map = map;\n        if(this.location){\n          this.setCenter();\n        }\n        var ref=this;\n        var startLat,startLng,startLevel;\n        kakao.maps.event.addListener(map, 'dragend', function() {\n          ref.getStoresByGeo(map.getCenter().getLat(),map.getCenter().getLng());\n        });\n        kakao.maps.event.addListener(map, 'zoom_start', function() {\n          startLat=map.getCenter().getLat();\n          startLng=map.getCenter().getLng();\n          startLevel=map.getLevel();\n        });\n        kakao.maps.event.addListener(map, 'zoom_changed', function() {\n          if(map.getLevel()>startLevel)\n            map.setCenter(new kakao.maps.LatLng(startLat,startLng));\n          else\n            ref.getStoresByGeo(map.getCenter().getLat(),map.getCenter().getLng());\n        });\n      },\n\n      setCenter: function(){\n        if(!this.location) {return;}\n        if(this.centerMarker) this.centerMarker.setMap(null);\n        this.map.setLevel(4);\n        this.map.setCenter(new kakao.maps.LatLng(this.location.coords.latitude,this.location.coords.longitude));\n        var imageSrc = require('@/assets/person_pin_24px_red.svg'),  \n            imageSize = new kakao.maps.Size(36, 36);\n        var markerImage = new kakao.maps.MarkerImage(imageSrc,imageSize,{});\n        this.centerMarker = new kakao.maps.Marker({ \n          position: this.map.getCenter(),\n          image: markerImage\n        });\n        this.centerMarker.setMap(this.map);\n        this.getStoresByGeo(this.map.getCenter().getLat(),this.map.getCenter().getLng());\n      },\n\n      Level2Range: function(level){\n          if(level<5)\n            return 1500;\n          else if(level<8)\n            return 2500;\n          else if(level<10)\n            return 3500;\n          else return 5000;\n      },\n\n      \n    },\n\n    \n\n  }\n</script>\n"]}]}